---
title: "Package development."
subtitle: "Creating impact from code."
author: "Emma Rand and Susannah Cowtan."
institute: "Forwards"
date: "updated: `r Sys.Date()`"
about:
  license_file: LICENSE
output:
  xaringan::moon_reader:
    seal: false
    css: [metropolis, default, metropolis-fonts]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: true

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      message = FALSE,	
                      warning = FALSE)
options(htmltools.dir.version = FALSE)
```

```{r pkgs, include=FALSE}
library(RefManageR)
library(tidyverse)

```

```{r, load-refs, include=FALSE, cache=FALSE}
BibOptions(check.entries = FALSE,
           bib.style = "numeric",
           cite.style = "authoryear",
           style = "markdown",
           hyperlink = FALSE,
           dashed = FALSE)
myBib <- ReadBib("bibliography.bib", check = FALSE)
```

background-image: url(pics/forwards.svg)
background-position: 50% 65%
background-size: 250px

class: inverse

# Package development.

## Creating impact from code.

### Emma Rand and Susannah Cowtan. 

### York January 2020.

Updated: `r Sys.Date()`

.footnote[
[1]   
[2] Made with xaringan `r Cite(myBib, "xaringan")`

]
---
background-image: url(pics/forwards.svg)
background-position: 50% 55%
background-size: 250px

class: inverse center

# Git and GitHub.

.center[
## `r emo::ji("runner")` A very brief guide!
]
---

# Git and GitHub.

## What is Git?
Git is a version control system:

* changes to your code are tracked and can be shared.
* to commit means to save a version.

## what is GitHub??

GitHub is a website that hosts Git projects. 

---

# Git and GitHub.

## Why use Git and GitHub.

* collaborate on code more easily.
* share your code with the world.
* allow others to install your packages.
* have a package website.
* track 'issues'.
* have others suggest improvements via pull requests.

Git and GitHub are generally useful for all software development and data analysis

---
# Git and GitHub.

`use_github()` takes a local project, creates an associated repo on GitHub, adds it to your local repo as the origin remote, and makes an initial push to synchronize. 

`use_github()` requires that your project already be a Git repository, which you can accomplish with `use_git()`, 

Authentication is also required.

---
# Git and GitHub.

## Authentication

A new GitHub repo will be created via the GitHub API, therefore you must make a GitHub personal access token (PAT) available. 

https://github.com/settings/tokens

You can either provide this directly via the auth_token argument or store it for retrieval with github_token().

browse_github_token() to generate a new PAT

github_token()

Example


---
# Git and GitHub.

https://usethis.r-lib.org/reference/use_github.html

```
> use_github()
✔ Checking that current branch is 'master'
Error: This repo already has an 'origin' remote, with value 'git@github.com:3mmaRand/mypackage.git'.
How to remove this setting in the shell:
`git remote rm origin`
> use_github()
✔ Checking that current branch is 'master'
Which git protocol to use? (enter 0 to exit) 

1: ssh   <-- presumes that you have set up ssh keys
2: https <-- choose this if you don't have ssh keys (or don't know if you do)

```



---

# Git and GitHub.

 ```
 Selection: 2
● Tip: To suppress this menu in future, put
  `options(usethis.protocol = "https")`
  in your script or in a user- or project-level startup file, '.Rprofile'.
  Call `usethis::edit_r_profile()` to open it for editing.
● Check title and description
  Name:        mypackage
  Description: What the Package Does (One Line, Title Case)
Are title and description ok?

1: Not now
2: Absolutely not
3: Yup
 
 
 ```

---

# Git and GitHub.

 ```
Selection: 3
✔ Creating GitHub repository
✔ Setting remote 'origin' to 'https://github.com/3mmaRand/mypackage.git'
✔ Adding GitHub links to DESCRIPTION
✔ Setting URL field in DESCRIPTION to 'https://github.com/3mmaRand/mypackage'
✔ Setting BugReports field in DESCRIPTION to 'https://github.com/3mmaRand/mypackage/issues'
✔ Pushing 'master' branch to GitHub and setting remote tracking branch
✔ Opening URL 'https://github.com/3mmaRand/mypackage'
 
 
 ```

---
# References

```{r refs, echo=FALSE, results="asis"}
PrintBibliography(myBib)
```


---
# License

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Package Development: Creating impact from code.</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">R Forwards</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
